<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Slack Ideas</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="CAI SKI"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="CAI SKI"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Slack Ideas"><meta property="og:url" content="https://www.slackideas.com/"><meta property="og:site_name" content="Slack Ideas"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.slackideas.com/img/og_image.png"><meta property="article:author" content="caiski"><meta property="article:tag" content="Slack Ideas, Slack, Ideas"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.slackideas.com"},"headline":"Slack Ideas","image":["https://www.slackideas.com/img/og_image.png"],"author":{"@type":"Person","name":"caiski"},"publisher":{"@type":"Organization","name":"Slack Ideas","logo":{"@type":"ImageObject","url":"https://www.slackideas.com/about/index/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;400;600&amp;family=Roboto+Mono"><link rel="stylesheet" href="/css/cyberpunk.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Slack Ideas" type="application/atom+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/about/index/logo.svg" alt="Slack Ideas" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2015-11-28T10:14:17.000Z" title="11/28/2015, 6:14:17 PM">2015-11-28</time>发表</span><span class="level-item"><time dateTime="2022-04-16T11:47:46.718Z" title="4/16/2022, 7:47:46 PM">2022-04-16</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/IT/">IT</a></span><span class="level-item">20 分钟读完 (大约2973个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2015/11/28/An-Introduction-To-iptables/">An Introduction To iptables</a></h1><div class="content"><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>Iptables是Linux内核防火墙(netfilter)提供的通用的表结构，和netfilter是早期Linux版本中ipchains和ipfwadm的继任者。iptables用于网络地址转换（NAT）、封包过滤（packet filtering），并在Linux 2.4版本后提供封包修改（packet mangling）。</p>
<p>这里放上IP封包头部的结构，以便于下文对各个规则的理解。</p>
<p><img src="/2015/11/28/An-Introduction-To-iptables/IPv4Packet.png" alt="IPv4Packet"></p>
<p>图1-1 IP包结构</p>
<p>相关字段说明：</p>
<pre><code>Version：IP协议的版本（如IPv4）
IHL：IP Header的长度
DSCP：服务代码（即Type of Service）
ECN：显式拥塞指示标记
Total Length：整个IP包的长度
Identification：身份标识。如果一个IP包在传输过程中分段了，同一个包的不同片段拥有相同的唯一标识
Flags：标识是否能分段传输
Fragment Offset：分段偏移量。标识本分段在原始IP包中的详细位置
Time to Live：为避免网络回路（loop），每个Packet发送时都带有一个TTL值，表示这个Packet可以经过多少次路由（即“多少跳”）。每经过一跳，该值减1，达到0该Packet被丢弃。
Protocol：告诉目标host的网络层，自己属于哪个协议。（ICMP-1，TCP-6，UDP-17）
Header Checksum：头部校验，用于检查Packet是否有错误
Source Address：数据包的32位发送地址
Destination Address：数据包的32位接收地址
Options：可选字段，仅在IHL大于5时使用。可以包含Security、Record Route、Timestamp等信息。
</code></pre>
<h1 id="规则表-Tables"><a href="#规则表-Tables" class="headerlink" title="规则表(Tables)"></a>规则表(Tables)</h1><p>Iptables内建规则表有三个：filter、nat、mangle。</p>
<h2 id="Mangle表"><a href="#Mangle表" class="headerlink" title="Mangle表"></a>Mangle表</h2><p>Mangle是英文“破坏、损坏”的意思，Mangle表的功能是修改数据包头部，如修改TOS之类的值。（建议不要在这个表中做任何filter或nat相关的工作）</p>
<p>Mangle表的几个target是：TOS、TTL、MARK、SECMARK、CONNSECMARK。其中TOS、TTL分别用于修改packet头部中的TOS、TTL字段；MARK、SECMARK、CONNSECMARK都用于向packet中设置可选的特殊字段。</p>
<h2 id="Nat表"><a href="#Nat表" class="headerlink" title="Nat表"></a>Nat表</h2><p>用于不同数据包的NAT（Network Address Translation），即用于修改数据包的source和destination两个值。一段流中只有第一个数据包会被Nat表中的规则修改，剩余数据包自动与第一个包采取相同行为。包含的target是DNAT、SNAT、MASQUERADE、REDIRECT。</p>
<p>DNAT用于修改数据包的destination地址然后转发至新的host，例如将数据包从公网IP发送至内网IP。</p>
<p>SNAT用于修改数据包的source地址，例如从内网向公网发起连接时，防火墙可将内网地址替换为自身公网地址。</p>
<p>MASQUERADE与SNAT的用法基本相同，但是通过它处理的数据包的source地址是动态计算出来的，而非单个配置好的IP，所以MASQUERADE可看做SNAT的一种特殊形式。很多网络服务商提供的是动态IP（拨号上网），使用MASQUERADE可以达到SNAT无法达到的效果。</p>
<p>REDIRECT是DNAT的一种特殊形式，不管数据包头部的destination是哪里，都转发到本地host上。</p>
<h2 id="Filter表"><a href="#Filter表" class="headerlink" title="Filter表"></a>Filter表</h2><p>Filter表是默认表，用于过滤Packet，可以依据Packet 内容选择DROP/ACCEPT等。</p>
<h2 id="Security表"><a href="#Security表" class="headerlink" title="Security表"></a>Security表</h2><p>Security表用于MAC（Mandatory Access Control，如SELinux等）网络规则控制。</p>
<h1 id="规则链-Chains"><a href="#规则链-Chains" class="headerlink" title="规则链(Chains)"></a>规则链(Chains)</h1><p>链是多个有序的Rule序列的列表（即包含多个Rule列表的列表）。</p>
<p>表是由多个链组成的，默认表filter的内置链有INPUT、OUTPUT、FORWARD，这些链在Packet过滤过程的不同位置激活并生效（如图3-1所示）。</p>
<p>图3-1 iptables packet flow</p>
<p>Nat表内置链是PREROUTING、OUTPUT、POSTROUTING</p>
<p>Mangle表内置链是PREROUTING、OUTPUT，2.4.18后加入了INPUT 、FORWARD、POSTROUTING</p>
<p>Raw表内置链是PREROUTING、OUTPUT</p>
<p>绝大多数情况下不会用到raw、mangle和security表，所以图3-1可以简化成图3-2。</p>
<p>图3-2 简化的iptables packet flow</p>
<h1 id="规则-Rules"><a href="#规则-Rules" class="headerlink" title="规则(Rules)"></a>规则(Rules)</h1><p>一条规则包含多个匹配条件和一个target（动作、处理行为）。</p>
<p>通常的匹配条件有接收数据包的网络接口（如eth0, eth1），数据包类型（如ICMP、TCP、UDP），数据包目的端口等。</p>
<p>Target可以是用户自定义链、内置链或扩展target。内置target有ACCEPT、DROP、QUEUE、RETURN；扩展target有REJECT、LOG。如果是内置target，Packet会被立即处理，不再Table中停留（即使还有后续链）。如果target是用户自定义链，Packet依然要走完原链的所有规则，才能跳到target（即这个自定义链）。</p>
<h2 id="常用规则"><a href="#常用规则" class="headerlink" title="常用规则"></a>常用规则</h2><h3 id="删除现有规则"><a href="#删除现有规则" class="headerlink" title="删除现有规则"></a>删除现有规则</h3><p>iptables –F 或 iptables –flush</p>
<h3 id="设置默认链策略"><a href="#设置默认链策略" class="headerlink" title="设置默认链策略"></a>设置默认链策略</h3><p>(将INPUT/FORWARD/OUTPUT的默认链策略设为DROP，这样做会屏蔽所有输入、输出网卡的数据包，除非你明确指定哪些数据包可以通过网卡。)</p>
<p>iptables -P INPUT DROP</p>
<p>iptables -P FORWARD DROP</p>
<p>iptables -P OUTPUT DROP</p>
<h3 id="设置黑名单"><a href="#设置黑名单" class="headerlink" title="设置黑名单"></a>设置黑名单</h3><p>1)屏蔽所指定的IP地址访问本地主机</p>
<p>iptables -A INPUT -i eth0 -s 192.168.43.0/24 -j DROP</p>
<p>2)仅屏蔽来自该IP的TCP数据包</p>
<p>iptables -A INPUT -i eth0 -p tcp -s 192.168.43.0/24 -j DROP</p>
<h3 id="允许来自外部的ping并回应"><a href="#允许来自外部的ping并回应" class="headerlink" title="允许来自外部的ping并回应"></a>允许来自外部的ping并回应</h3><p>iptables -A INPUT -p icmp –icmp-type echo-request -j ACCEPT</p>
<p>iptables -A OUTPUT -p icmp –icmp-type echo-reply -j ACCEPT</p>
<h3 id="允许从本机ping外部主机"><a href="#允许从本机ping外部主机" class="headerlink" title="允许从本机ping外部主机"></a>允许从本机ping外部主机</h3><p>iptables -A OUTPUT -p icmp –icmp-type echo-request -j ACCEPT</p>
<p>iptables -A INPUT -p icmp –icmp-type echo-reply -j ACCEPT</p>
<h3 id="允许回环-loopback-访问"><a href="#允许回环-loopback-访问" class="headerlink" title="允许回环(loopback)访问"></a>允许回环(loopback)访问</h3><p>iptables -A INPUT -i lo -j ACCEPT</p>
<p>iptables -A OUTPUT -o lo -j ACCEPT</p>
<h3 id="允许进入eth0的ssh连接"><a href="#允许进入eth0的ssh连接" class="headerlink" title="允许进入eth0的ssh连接"></a>允许进入eth0的ssh连接</h3><p>iptables -A INPUT -i eth0 -p tcp –dport 22 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 22 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="允许从本地发起经过eth0的ssh连接"><a href="#允许从本地发起经过eth0的ssh连接" class="headerlink" title="允许从本地发起经过eth0的ssh连接"></a>允许从本地发起经过eth0的ssh连接</h3><p>iptables -A OUTPUT -o eth0 -p tcp –dport 22 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A INPUT -i eth0 -p tcp –sport 22 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="允许来自192-168-100-0-24网络的ssh连接-CIDR网络地址"><a href="#允许来自192-168-100-0-24网络的ssh连接-CIDR网络地址" class="headerlink" title="允许来自192.168.100.0/24网络的ssh连接(CIDR网络地址)"></a>允许来自192.168.100.0/24网络的ssh连接(CIDR网络地址)</h3><p>iptables -A INPUT -i eth0 -p tcp -s 192.168.100.0/24 –dport 22 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 22 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="仅允许从本地主机连接到192-168-100-0-24网络的ssh请求"><a href="#仅允许从本地主机连接到192-168-100-0-24网络的ssh请求" class="headerlink" title="仅允许从本地主机连接到192.168.100.0/24网络的ssh请求"></a>仅允许从本地主机连接到192.168.100.0/24网络的ssh请求</h3><p>iptables -A OUTPUT -o eth0 -p tcp -d 192.168.100.0/24 –dport 22 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A INPUT -i eth0 -p tcp –sport 22 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="允许HTTP-HTTPS连接请求"><a href="#允许HTTP-HTTPS连接请求" class="headerlink" title="允许HTTP/HTTPS连接请求"></a>允许HTTP/HTTPS连接请求</h3><p>1)允许HTTP连接：80端口</p>
<p>iptables -A INPUT -i eth0 -p tcp –dport 80 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 80 -m state –state ESTABLISHED -j ACCEPT</p>
<p>2)允许HTTPS连接：443端口</p>
<p>iptables -A INPUT -i eth0 -p tcp –dport 443 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 443 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="允许从本地发起HTTPS连接"><a href="#允许从本地发起HTTPS连接" class="headerlink" title="允许从本地发起HTTPS连接"></a>允许从本地发起HTTPS连接</h3><p>本规则可以允许用户从本地主机发起HTTPS连接，从而访问Internet。</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –dport 443 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A INPUT -i eth0 -p tcp –sport 443 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="使用-m-multiport指定多个端口"><a href="#使用-m-multiport指定多个端口" class="headerlink" title="使用-m multiport指定多个端口"></a>使用-m multiport指定多个端口</h3><p>通过指定-m multiport选项，可以在一条规则中同时允许SSH、HTTP、HTTPS连接：</p>
<p>iptables -A INPUT -i eth0 -p tcp -m multiport –dports 22,80,443 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp -m multiport –sports 22,80,443 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="允许出站DNS连接"><a href="#允许出站DNS连接" class="headerlink" title="允许出站DNS连接"></a>允许出站DNS连接</h3><p>iptables -A OUTPUT -p udp -o eth0 –dport 53 -j ACCEPT</p>
<p>iptables -A INPUT -p udp -i eth0 –sport 53 -j ACCEPT</p>
<h3 id="允许来自指定网络的rsync连接请求"><a href="#允许来自指定网络的rsync连接请求" class="headerlink" title="允许来自指定网络的rsync连接请求"></a>允许来自指定网络的rsync连接请求</h3><p>只希望能够从内部网络（192.168.101.0/24）访问即可：</p>
<p>iptables -A INPUT -i eth0 -p tcp -s 192.168.101.0/24 –dport 873 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 873 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="允许来自指定网络的MySQL连接请求"><a href="#允许来自指定网络的MySQL连接请求" class="headerlink" title="允许来自指定网络的MySQL连接请求"></a>允许来自指定网络的MySQL连接请求</h3><p>你可能启用了MySQL服务，但只希望DBA与相关开发人员能够从内部网络（192.168.100.0/24）直接登录数据库：</p>
<p>iptables -A INPUT -i eth0 -p tcp -s 192.168.100.0/24 –dport 3306 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 3306 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="允许Sendmail-Postfix邮件服务-端口25"><a href="#允许Sendmail-Postfix邮件服务-端口25" class="headerlink" title="允许Sendmail, Postfix邮件服务(端口25)"></a>允许Sendmail, Postfix邮件服务(端口25)</h3><p>iptables -A INPUT -i eth0 -p tcp –dport 25 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 25 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="允许IMAP与IMAPS"><a href="#允许IMAP与IMAPS" class="headerlink" title="允许IMAP与IMAPS"></a>允许IMAP与IMAPS</h3><p>IMAP：143<br>iptables -A INPUT -i eth0 -p tcp –dport 143 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 143 -m state –state ESTABLISHED -j ACCEPT</p>
<p>IMAPS：993<br>iptables -A INPUT -i eth0 -p tcp –dport 993 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 993 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="允许POP3与POP3S"><a href="#允许POP3与POP3S" class="headerlink" title="允许POP3与POP3S"></a>允许POP3与POP3S</h3><p>POP3：110<br>iptables -A INPUT -i eth0 -p tcp –dport 110 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 110 -m state –state ESTABLISHED -j ACCEPT</p>
<p>POP3S：995<br>iptables -A INPUT -i eth0 -p tcp –dport 995 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 995 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="防DoS攻击"><a href="#防DoS攻击" class="headerlink" title="防DoS攻击"></a>防DoS攻击</h3><p>iptables -A INPUT -p tcp –dport 80 -m limit –limit 25/minute –limit-burst 100 -j ACCEPT</p>
<p>-m limit: 启用limit扩展</p>
<p>–limit 25/minute: 允许最多每分钟25个连接</p>
<p>–limit-burst 100: 当达到100个连接后，才启用上述25/minute限制</p>
<h3 id="允许网卡间路由"><a href="#允许网卡间路由" class="headerlink" title="允许网卡间路由"></a>允许网卡间路由</h3><p>如果本地主机有两块网卡，一块连接内网(eth0)，一块连接外网(eth1)，那么可以使用下面的规则将eth0的数据路由到eht1：</p>
<p>iptables -A FORWARD -i eth0 -o eth1 -j ACCEPT</p>
<h3 id="DNAT与端口转发"><a href="#DNAT与端口转发" class="headerlink" title="DNAT与端口转发"></a>DNAT与端口转发</h3><p>以下规则将会把来自422端口的流量转发到22端口。这意味着来自422端口的SSH连接请求与来自22端口的请求等效。</p>
<p>1.启用DNAT转发<br>iptables -t nat -A PREROUTING -p tcp -d 192.168.102.37 –dport 422 -j DNAT –to-destination 192.168.102.37:22</p>
<p>2.允许连接到422端口的请求<br>iptables -A INPUT -i eth0 -p tcp –dport 422 -m state –state NEW,ESTABLISHED -j ACCEPT</p>
<p>iptables -A OUTPUT -o eth0 -p tcp –sport 422 -m state –state ESTABLISHED -j ACCEPT</p>
<h3 id="将HTTP请求转发到内部服务器xxx-xxx-xxx-xxx"><a href="#将HTTP请求转发到内部服务器xxx-xxx-xxx-xxx" class="headerlink" title="将HTTP请求转发到内部服务器xxx.xxx.xxx.xxx"></a>将HTTP请求转发到内部服务器xxx.xxx.xxx.xxx</h3><p>iptables -t nat -A PREROUTING -p tcp -i eth0 -d xxx.xxx.xxx.xxx –dport 8888 -j DNAT –to 192.168.0.2:80</p>
<p>iptables -A FORWARD -p tcp -i eth0 -d 192.168.0.2 –dport 80 -j ACCEPT</p>
<p>当该数据包到达xxx.xxx.xxx.xxx后，需要将该数据包转发给192.168.0.2的80端口，事实上NAT所做的是修改该数据包的目的地址和目的端口号。然后再将该数据包路由给对应的主机。</p>
<p>但是iptables会接受这样的需要路由的包么？这就由FORWARD链决定。我们通过第二条命令告诉iptables可以转发目的地址为192.168.0.2:80的数据包。再看一下上例中422端口转22端口，这是同一IP，因此不需要设置FORWARD链。</p>
<h3 id="SNAT与MASQUERADE"><a href="#SNAT与MASQUERADE" class="headerlink" title="SNAT与MASQUERADE"></a>SNAT与MASQUERADE</h3><p>如下命令表示把所有10.8.0.0网段的数据包SNAT成192.168.5.3的ip然后发出去：</p>
<p>iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o eth0 -j snat –to-source 192.168.5.3</p>
<p>对于snat，不管是几个地址，必须明确的指定要snat的IP。假如我们的计算机使用ADSL拨号方式上网，那么外网IP是动态的，这时候我们可以考虑使用MASQUERADE</p>
<p>iptables -t nat -A POSTROUTING -s 10.8.0.0/255.255.255.0 -o eth0 -j MASQUERADE</p>
<h3 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h3><p>可以利用iptables的-m nth扩展，及其参数（–counter 0 –every 3 –packet x），进行DNAT路由设置（-A PREROUTING -j DNAT –to-destination），从而将负载平均分配给3台服务器：</p>
<p>iptables -A PREROUTING -i eth0 -p tcp –dport 443 -m state –state NEW -m nth –counter 0 –every 3 –packet 0 -j DNAT –to-destination 192.168.1.101:443</p>
<p>iptables -A PREROUTING -i eth0 -p tcp –dport 443 -m state –state NEW -m nth –counter 0 –every 3 –packet 1 -j DNAT –to-destination 192.168.1.102:443</p>
<p>iptables -A PREROUTING -i eth0 -p tcp –dport 443 -m state –state NEW -m nth –counter 0 –every 3 –packet 2 -j DNAT –to-destination 192.168.1.103:443</p>
<h3 id="自定义链，记录丢弃的数据包"><a href="#自定义链，记录丢弃的数据包" class="headerlink" title="自定义链，记录丢弃的数据包"></a>自定义链，记录丢弃的数据包</h3><p>1.新建名为LOGGING的链<br>iptables -N LOGGING</p>
<p>2.将所有来自INPUT链中的数据包跳转到LOGGING链中<br>iptables -A INPUT -j LOGGING</p>
<p>3.指定自定义的日志前缀”IPTables Packet Dropped: “<br>iptables -A LOGGING -m limit –limit 2/min -j LOG –log-prefix “IPTables Packet Dropped: “ –log-level 7</p>
<p>4.丢弃这些数据包<br>iptables -A LOGGING -j DROP</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2015-11-15T10:14:17.000Z" title="11/15/2015, 6:14:17 PM">2015-11-15</time>发表</span><span class="level-item"><time dateTime="2022-04-16T11:47:46.722Z" title="4/16/2022, 7:47:46 PM">2022-04-16</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Other/">Other</a></span><span class="level-item">4 分钟读完 (大约587个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2015/11/15/Some-Confusion-And-Thoughts/">Some Confusion And Thoughts</a></h1><div class="content"><p>毕业工作以来的一段时间，一直是茫然状态。</p>
<p>程序员优点之一的抽象思维能力，并没有在此时被召唤出来（苦笑）</p>
<p>1、时间不够用了。</p>
<p>这是最大的感受。想做的有很多，工作、健身、吉他、理财……太多了。工作是占比最大的，每天12小时以上，也和工作效率有关系，但有种永远不会结束的感觉。任何稍微空闲的时候也总是会想到工作，这样下来，有时会觉得很累。</p>
<p>神经紧张，是从高三起养成的恶习。记得高二上学期上网吧被班主任抓到（苦笑），被教育一顿后就一直觉得只要放松便是浪费生命，现在看来是很可笑，当时却真的这么做了。整个高二下和高三，还有本科、硕士，就这么过来了。极少说话，每做一件事情都如临大敌，一旦失败就开始怀疑自身——真是一台极好的机器人啊，不这样又能怎样呢（苦笑）</p>
<p>2、感觉不到提升。</p>
<p>除了代码熟练度有一点提升外，没有发觉任何进步。工作，变成了真正的“搬砖”。思维没有得到较好锻炼，效率没有任何提升。可能对自己期望过高，较小的提升没有总结沉淀下来吧。</p>
<p>觉得待在了一个是非之地……不多说了，免留口实。</p>
<p>3、容易被人和事影响。</p>
<p>跟同事聊天、去商店买菜，有时候窝心得很。心理上的坚强也是修炼的重要一环啊···只好多看书了。看书再被列到计划中的话，时间还够用么。</p>
<p>4、不知道出路在哪里。</p>
<p>心里一直有一个宏大的五年计划，时刻想着念着，有时竟然会发怵。我能做到吗？我能坚持下来吗？重要的是，Do I deserve it ? I really don’t fucking know.</p>
<p>前路依然弥漫着一切不可知。</p>
<p>2015年11月15日 夜</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2015-09-29T10:14:17.000Z" title="9/29/2015, 6:14:17 PM">2015-09-29</time>发表</span><span class="level-item"><time dateTime="2022-04-16T11:47:46.722Z" title="4/16/2022, 7:47:46 PM">2022-04-16</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/IT/">IT</a></span><span class="level-item">几秒读完 (大约99个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2015/09/29/The-SSH-Protocol/">The SSH Protocol</a></h1><div class="content"><p>A few days ago, I was demanded to give a presentation about the SSH protocol, which I summarized as in below slide.</p>
<p>Refer to <a target="_blank" rel="noopener" href="https://www.cnblogs.com/zmlctt/p/3946860.html">this link</a></p>
<p>SSH protocol has been one of the most fundamental infrastructures since 1990s, proving encrypted, secure remote control and other network services for millions of servers over unsecure network.</p>
<p>It’s basically consisted of five different protocols, which are RFC 4250 The SSH Protocol Assigned Numbers, RFC 4251 The SSH Protocol Architecture, RFC 4252 The SSH Authentication Protocol, RFC 4253 The SSH Transportation Protocol and RFC 4254 The SSH Connection Protocol.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2015-08-19T13:29:33.000Z" title="8/19/2015, 9:29:33 PM">2015-08-19</time>发表</span><span class="level-item"><time dateTime="2022-04-16T11:47:46.722Z" title="4/16/2022, 7:47:46 PM">2022-04-16</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/IT/">IT</a></span><span class="level-item">2 分钟读完 (大约234个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2015/08/19/Pseudo-Devices/">Pseudo Devices</a></h1><div class="content"><p>Device nodes on Unix-like systems do not necessarily have to correspond to physical devices. Nodes that lack this correspondence form the group of pseudo-devices.</p>
<p>They provide various functions handled by the operating system. Some of the most commonly-used (character-based) pseudo-devices include:</p>
<h2 id="dev-null"><a href="#dev-null" class="headerlink" title="/dev/null"></a><code>/dev/null</code></h2><p>Accepts and discards all input; produces no output.（接受并丢弃所有输入；不产生输出）</p>
<h2 id="dev-zero"><a href="#dev-zero" class="headerlink" title="/dev/zero"></a><code>/dev/zero</code></h2><p>Produces a continuous stream of NUL (zero value) bytes.（产生持续的NUL字节流）</p>
<h2 id="dev-random"><a href="#dev-random" class="headerlink" title="/dev/random"></a><code>/dev/random</code></h2><p>Produces a variable-length stream of pseudo-random or truly random numbers. (Blocking)（阻塞地生成变长伪随机或真随机数字流）(拓展阅读：/dev/random产生的随机数是否真随机？）</p>
<h2 id="dev-urandom"><a href="#dev-urandom" class="headerlink" title="/dev/urandom"></a><code>/dev/urandom</code></h2><p>Produces a variable-length stream of pseudo-random numbers. (Non-Blocking)（非阻塞地生成变长伪随机数字流）</p>
<h2 id="dev-full"><a href="#dev-full" class="headerlink" title="/dev/full"></a><code>/dev/full</code></h2><p>Produces a continuous stream of NUL (zero value) bytes when read, and returns a “disk full” message when written to.（被读取时，生成时序的NUL字节流；被写入时，返回“磁盘已满”信息）</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2015-07-25T10:14:17.000Z" title="7/25/2015, 6:14:17 PM">2015-07-25</time>发表</span><span class="level-item"><time dateTime="2022-04-16T11:47:46.718Z" title="4/16/2022, 7:47:46 PM">2022-04-16</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Other/">Other</a></span><span class="level-item">1 分钟读完 (大约164个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2015/07/25/Adaptance/">Adaptance</a></h1><div class="content"><p>About a month ago, I graduated with a M.S. degree from Chengdu, and now end  in Alibaba which is one of the biggest internet company in China.</p>
<p>Graduations are both painful and joyful, but for me they are more like thrilling. The eager to explore something new and the just proper fearness can excite everyone.</p>
<p>Hanzhou is a beautiful tourist city as I heard about, and worth exploring whether it’s a good  place to live. About 33% larger than Chengdu in area, it holds only 62% of Chengdu’s population. The downtown area, 314 square kilometers, is a shrinking pit relative to Chengdu’s 598 square kilometers.  Be this as it may, the area of the city really has little to do with me, :)</p>
<p>A profession like software engineers, should be pragmatic in a lot of ways. Programmers are always serious,  precise, rigorous to people. Can they be romantic? Yes. I may learn some skills for life now, for the real pragmatism purpose.</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/6/">上一页</a></div><div class="pagination-next"><a href="/page/8/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/6/">6</a></li><li><a class="pagination-link is-current" href="/page/7/">7</a></li><li><a class="pagination-link" href="/page/8/">8</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/11/">11</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/about/index/logo.svg" alt="CAISKI"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">CAISKI</p><p class="is-size-6 is-block">Engineer at Tencent Inc.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">54</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">23</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/caiski" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/caiski"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/imskicai"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="/PostgresWorld" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Postgres World</span></span><span class="level-right"><span class="level-item tag">/PostgresWorld</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/IT/"><span class="level-start"><span class="level-item">IT</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile" href="/categories/Other/"><span class="level-start"><span class="level-item">Other</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-10-10T03:01:05.000Z">2021-10-10</time></p><p class="title"><a href="/2021/10/10/Li-Assisted-Driving-in-Long-Distance-Road-Trip/">Li Assisted Driving in Long Distance Road Trip</a></p><p class="categories"><a href="/categories/Other/">Other</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-22T07:16:56.000Z">2021-08-22</time></p><p class="title"><a href="/2021/08/22/Data-Type-Mappings-Between-Golang-And-PostgreSQL/">Data Type Mappings Between Golang And PostgreSQL</a></p><p class="categories"><a href="/categories/IT/">IT</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-18T05:16:42.000Z">2021-07-18</time></p><p class="title"><a href="/2021/07/18/A-Glance-Through-the-Window-of-Office-Two-Pictures/">A Glance Through the Window of Office (Two Pictures)</a></p><p class="categories"><a href="/categories/Other/">Other</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-17T12:14:17.000Z">2021-07-17</time></p><p class="title"><a href="/2021/07/17/Alfred-New-User-Notes-Part-I/">Alfred New User Notes - Part I</a></p><p class="categories"><a href="/categories/Other/">Other</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-07-03T15:09:23.000Z">2021-07-03</time></p><p class="title"><a href="/2021/07/03/Grpc-Tutorial-Step-By-Step/">Grpc Tutorial Step By Step</a></p><p class="categories"><a href="/categories/IT/">IT</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">十二月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">十一月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">五月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">三月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">一月 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">十二月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/08/"><span class="level-start"><span class="level-item">八月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/07/"><span class="level-start"><span class="level-item">七月 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/03/"><span class="level-start"><span class="level-item">三月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/01/"><span class="level-start"><span class="level-item">一月 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/12/"><span class="level-start"><span class="level-item">十二月 2016</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/11/"><span class="level-start"><span class="level-item">十一月 2016</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/10/"><span class="level-start"><span class="level-item">十月 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/12/"><span class="level-start"><span class="level-item">十二月 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/11/"><span class="level-start"><span class="level-item">十一月 2015</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/09/"><span class="level-start"><span class="level-item">九月 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/08/"><span class="level-start"><span class="level-item">八月 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/07/"><span class="level-start"><span class="level-item">七月 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/06/"><span class="level-start"><span class="level-item">六月 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/04/"><span class="level-start"><span class="level-item">四月 2015</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/12/"><span class="level-start"><span class="level-item">十二月 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/09/"><span class="level-start"><span class="level-item">九月 2014</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/07/"><span class="level-start"><span class="level-item">七月 2014</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/09/"><span class="level-start"><span class="level-item">九月 2013</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/09/"><span class="level-start"><span class="level-item">九月 2012</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/07/"><span class="level-start"><span class="level-item">七月 2012</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2010/12/"><span class="level-start"><span class="level-item">十二月 2010</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2010/11/"><span class="level-start"><span class="level-item">十一月 2010</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/alfred/"><span class="tag">alfred</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blockchain/"><span class="tag">blockchain</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cpp/"><span class="tag">cpp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/design-pattern/"><span class="tag">design pattern</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/emerg/"><span class="tag">emerg</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/golang/"><span class="tag">golang</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iptables/"><span class="tag">iptables</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mac/"><span class="tag">mac</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/photography/"><span class="tag">photography</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/postgresql/"><span class="tag">postgresql</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rpc/"><span class="tag">rpc</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/shell/"><span class="tag">shell</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tex/"><span class="tag">tex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/thoughts/"><span class="tag">thoughts</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/trial/"><span class="tag">trial</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tricks/"><span class="tag">tricks</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/about/index/logo.svg" alt="Slack Ideas" height="28"></a><p class="is-size-7"><span>&copy; 2022 caiski</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>